<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>GH BLOGS | 明天你好</title>
    <meta name="description" content="明天你好">
    <link rel="preload stylesheet" href="/gh-blogs/assets/style.03f3fa86.css" as="style">
    
    <script type="module" src="/gh-blogs/assets/app.17d008bb.js"></script>
    <link rel="preload" href="/gh-blogs/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/gh-blogs/assets/chunks/framework.8c899d34.js">
    <link rel="modulepreload" href="/gh-blogs/assets/chunks/theme.0c28d154.js">
    <link rel="modulepreload" href="/gh-blogs/assets/chunks/index.16c86ce8.js">
    <link rel="modulepreload" href="/gh-blogs/assets/chunks/commonjsHelpers.725317a4.js">
    <link rel="modulepreload" href="/gh-blogs/assets/blogs_vite_vite.md.fae684e7.lean.js">
    <link rel="icon" href="./logo.webp">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-43fb0c0c><!--[--><!--]--><!--[--><span tabindex="-1" data-v-8c3b45ad></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-8c3b45ad> Skip to content </a><!--]--><!----><header class="VPNav" data-v-43fb0c0c data-v-0e4febe5><div class="VPNavBar" data-v-0e4febe5 data-v-7c900844><div class="container" data-v-7c900844><div class="title" data-v-7c900844><div class="VPNavBarTitle" data-v-7c900844 data-v-fa018418><a class="title" href="/gh-blogs/" data-v-fa018418><!--[--><!--]--><!--[--><img class="VPImage logo" src="/gh-blogs/logo.webp" alt data-v-2af20ba7><!--]--><!--[-->GH BLOGS<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-7c900844><div class="curtain" data-v-7c900844></div><div class="content-body" data-v-7c900844><!--[--><!--]--><div class="VPNavBarSearch search" data-v-7c900844><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-7c900844 data-v-9203b14d><span id="main-nav-aria-label" class="visually-hidden" data-v-9203b14d>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/gh-blogs/" tabindex="0" data-v-9203b14d data-v-72b9e471><!--[--><span data-v-72b9e471>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/gh-blogs/ghui/%E6%90%AD%E5%BB%BA%E7%BB%84%E4%BB%B6%E5%BA%93%E6%B5%81%E7%A8%8B.html" tabindex="0" data-v-9203b14d data-v-72b9e471><!--[--><span data-v-72b9e471>UI库</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-9203b14d data-v-f55ae8bb><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-f55ae8bb><span class="text" data-v-f55ae8bb><!----><span data-v-f55ae8bb>博客</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-f55ae8bb><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-f55ae8bb><div class="VPMenu" data-v-f55ae8bb data-v-c48308e1><div class="items" data-v-c48308e1><!--[--><!--[--><div class="VPMenuLink" data-v-c48308e1 data-v-47e12458><a class="VPLink link" href="/gh-blogs/a.html" data-v-47e12458><!--[-->html<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c48308e1 data-v-47e12458><a class="VPLink link" href="/gh-blogs/blogs/css/%E5%B8%B8%E7%94%A8%E7%89%87%E6%AE%B5.html" data-v-47e12458><!--[-->css<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c48308e1 data-v-47e12458><a class="VPLink link" href="/gh-blogs/blogs/js/JS%E5%9F%BA%E7%A1%80.html" data-v-47e12458><!--[-->JavaScript<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c48308e1 data-v-47e12458><a class="VPLink link" href="/gh-blogs/blogs/vue/vue3.html" data-v-47e12458><!--[-->vue<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c48308e1 data-v-47e12458><a class="VPLink link" href="/gh-blogs/a.html" data-v-47e12458><!--[-->vite<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c48308e1 data-v-47e12458><a class="VPLink link" href="/gh-blogs/blogs/miniprogram/base.html" data-v-47e12458><!--[-->mini program<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c48308e1 data-v-47e12458><a class="VPLink link" href="/gh-blogs/a.html" data-v-47e12458><!--[-->algorithm<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c48308e1 data-v-47e12458><a class="VPLink link" href="/gh-blogs/a.html" data-v-47e12458><!--[-->uniApp<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c48308e1 data-v-47e12458><a class="VPLink link" href="/gh-blogs/a.html" data-v-47e12458><!--[-->flutter<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c48308e1 data-v-47e12458><a class="VPLink link" href="/gh-blogs/a.html" data-v-47e12458><!--[-->react<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c48308e1 data-v-47e12458><a class="VPLink link" href="/gh-blogs/a.html" data-v-47e12458><!--[-->compiler<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c48308e1 data-v-47e12458><a class="VPLink link" href="/gh-blogs/blogs/vitepress/%E8%B5%B7%E6%AD%A5.html" data-v-47e12458><!--[-->vitepress<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c48308e1 data-v-47e12458><a class="VPLink link" href="/gh-blogs/blogs/git.html" data-v-47e12458><!--[-->git<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c48308e1 data-v-47e12458><a class="VPLink link" href="/gh-blogs/b.html" data-v-47e12458><!--[-->back-end<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-7c900844 data-v-d9b99eea><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-d9b99eea data-v-ac17399b data-v-80f3e35b><span class="check" data-v-80f3e35b><span class="icon" data-v-80f3e35b><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ac17399b><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ac17399b><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-7c900844 data-v-39c433bc data-v-8b79deab><!--[--><a class="VPSocialLink no-icon" href="https://github.com/SheenJs/gh-blogs" aria-label="github" target="_blank" rel="noopener" data-v-8b79deab data-v-be2c532f><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-7c900844 data-v-229479d2 data-v-f55ae8bb><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-f55ae8bb><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-f55ae8bb><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-f55ae8bb><div class="VPMenu" data-v-f55ae8bb data-v-c48308e1><!----><!--[--><!--[--><!----><div class="group" data-v-229479d2><div class="item appearance" data-v-229479d2><p class="label" data-v-229479d2>Appearance</p><div class="appearance-action" data-v-229479d2><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-229479d2 data-v-ac17399b data-v-80f3e35b><span class="check" data-v-80f3e35b><span class="icon" data-v-80f3e35b><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ac17399b><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ac17399b><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-229479d2><div class="item social-links" data-v-229479d2><div class="VPSocialLinks social-links-list" data-v-229479d2 data-v-8b79deab><!--[--><a class="VPSocialLink no-icon" href="https://github.com/SheenJs/gh-blogs" aria-label="github" target="_blank" rel="noopener" data-v-8b79deab data-v-be2c532f><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-7c900844 data-v-ffff6811><span class="container" data-v-ffff6811><span class="top" data-v-ffff6811></span><span class="middle" data-v-ffff6811></span><span class="bottom" data-v-ffff6811></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav fixed reached-top" data-v-43fb0c0c data-v-aeac409e><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-aeac409e data-v-39f1bb8d><button data-v-39f1bb8d>Return to top</button><!----></div></div><!----><div class="VPContent" id="VPContent" data-v-43fb0c0c data-v-97de57ff><div class="VPDoc has-aside" data-v-97de57ff data-v-8915a842><!--[--><!--]--><div class="container" data-v-8915a842><div class="aside" data-v-8915a842><div class="aside-curtain" data-v-8915a842></div><div class="aside-container" data-v-8915a842><div class="aside-content" data-v-8915a842><div class="VPDocAside" data-v-8915a842 data-v-2343243c><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-2343243c data-v-74ceeb45><div class="content" data-v-74ceeb45><div class="outline-marker" data-v-74ceeb45></div><div class="outline-title" role="heading" aria-level="2" data-v-74ceeb45>章节导航</div><nav aria-labelledby="doc-outline-aria-label" data-v-74ceeb45><span class="visually-hidden" id="doc-outline-aria-label" data-v-74ceeb45> Table of Contents for current page </span><ul class="root" data-v-74ceeb45 data-v-1c43eec0><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-2343243c></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-8915a842><div class="content-container" data-v-8915a842><!--[--><!--]--><!----><main class="main" data-v-8915a842><div style="position:relative;" class="vp-doc _gh-blogs_blogs_vite_vite" data-v-8915a842><div><p><a href="https://cn.vitejs.dev/" target="_blank" rel="noreferrer">vite</a></p><h2 id="什么是构建工具" tabindex="-1">什么是构建工具 <a class="header-anchor" href="#什么是构建工具" aria-label="Permalink to &quot;什么是构建工具&quot;">​</a></h2><p>我们写的代码一变化 ---&gt; 有人帮我们自动去tsc, react-compiler, less, babel, uglifyjs全部挨个走一遍 ---&gt; js 这个东西就叫做<strong>构建工具</strong></p><blockquote><p>打包: 将我们写的浏览器不认识的代码 交给构建工具进行编译处理的过程就叫做打包, 打包完成以后会给我们一个浏览器可以认识的文件</p></blockquote><p>一个构建工具做了什么事:</p><ol><li>模块化开发支持: 支持直接从node_modules里引入代码 + 多种模块化支持</li><li>处理代码兼容性: 比如babel语法降级, less,ts 语法转换(<strong>不是构建工具做的, 构建工具将这些语法对应的处理工具集成进来自动化处理</strong>)</li><li>提高项目性能: 压缩文件, <strong>代码分割</strong></li><li>优化开发体验: <ul><li>构建工具会帮你自动监听文件的变化, 当文件变化以后自动帮你调用对应的集成工具进行重新打包, 然后再浏览器重新运行（整个过程叫做热更新, hot replacement</li><li>开发服务器: 跨域的问题, 用react-cli create-react-element vue-cli 解决跨域的问题,</li></ul></li></ol><h2 id="webpack的一个缺点-了解" tabindex="-1">webpack的一个缺点(了解) <a class="header-anchor" href="#webpack的一个缺点-了解" aria-label="Permalink to &quot;webpack的一个缺点(了解)&quot;">​</a></h2><p>项目模块过多启动缓慢</p><ul><li>webpack的编译原理, AST 抽象语法分析的工具 分析出你写的这个js文件有哪些导入和导出操作 构建工具是运行在服务端的</li><li>因为webpack支持多种模块化, 他一开始必须要统一模块化代码, 所以意味着他需要将所有的依赖全部读一遍</li><li>vite会不会直接把webpack干翻, vite是基于es modules的, 侧重点不一样, webpack更多的关注兼容性, 而vite关注浏览器端的开发体验</li><li>vite的上手难度更低, webpack的配置是非常多的, loader, plugin</li></ul><h2 id="es-module的规范" tabindex="-1">es module的规范 <a class="header-anchor" href="#es-module的规范" aria-label="Permalink to &quot;es module的规范&quot;">​</a></h2><h2 id="vite的基本安装和使用" tabindex="-1">vite的基本安装和使用 <a class="header-anchor" href="#vite的基本安装和使用" aria-label="Permalink to &quot;vite的基本安装和使用&quot;">​</a></h2><p>vite官网搭建工程指南: <a href="https://vitejs.dev/guide/#scaffolding-your-first-vite-project" target="_blank" rel="noreferrer">https://vitejs.dev/guide/#scaffolding-your-first-vite-project</a></p><ul><li>使用自选配置去构建vite项目:</li></ul><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">pnpm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">create</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">vite</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">pnpm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">create</span><span style="color:#24292E;"> </span><span style="color:#032F62;">vite</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>构建一些具备框架功能的预设模板(不需要你自选配置)</li></ul><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">pnpm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">create</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">vite</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">my-react-ts-app</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--template</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">react-ts</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 还有更多配置可以参阅官网</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">pnpm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">create</span><span style="color:#24292E;"> </span><span style="color:#032F62;">vite</span><span style="color:#24292E;"> </span><span style="color:#032F62;">my-react-ts-app</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--template</span><span style="color:#24292E;"> </span><span style="color:#032F62;">react-ts</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 还有更多配置可以参阅官网</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="vite的配置文件" tabindex="-1"><a href="https://cn.vitejs.dev/config/" target="_blank" rel="noreferrer">vite的配置文件</a> <a class="header-anchor" href="#vite的配置文件" aria-label="Permalink to &quot;[vite的配置文件](https://cn.vitejs.dev/config/)&quot;">​</a></h2><details class="details custom-block"><summary>查看代码</summary><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  root: process.</span><span style="color:#B392F0;">cwd</span><span style="color:#E1E4E8;">(), </span><span style="color:#6A737D;">// 项目根目录（index.html 文件所在的位置）,</span></span>
<span class="line"><span style="color:#E1E4E8;">  base: </span><span style="color:#9ECBFF;">&#39;/&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 开发或生产环境服务的公共基础路径 配置引入相对路径</span></span>
<span class="line"><span style="color:#E1E4E8;">  mode: </span><span style="color:#9ECBFF;">&#39;development&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 模式</span></span>
<span class="line"><span style="color:#E1E4E8;">  plugins: [</span><span style="color:#B392F0;">vue</span><span style="color:#E1E4E8;">()], </span><span style="color:#6A737D;">// 需要用到的插件数组</span></span>
<span class="line"><span style="color:#E1E4E8;">  publicDir: </span><span style="color:#9ECBFF;">&#39;public&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 静态资源服务的文件夹</span></span>
<span class="line"><span style="color:#E1E4E8;">  cacheDir: </span><span style="color:#9ECBFF;">&#39;node_modules/.vite&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 存储缓存文件的目录</span></span>
<span class="line"><span style="color:#E1E4E8;">  resolve: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    alias: [ </span><span style="color:#6A737D;">// 文件系统路径别名</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">        find:</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#85E89D;font-weight:bold;">\/</span><span style="color:#DBEDFF;">@</span><span style="color:#85E89D;font-weight:bold;">\/</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        replacement: </span><span style="color:#B392F0;">pathResolve</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;src&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;/&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    ],</span></span>
<span class="line"><span style="color:#E1E4E8;">    dedupe: [], </span><span style="color:#6A737D;">// 强制 Vite 始终将列出的依赖项解析为同一副本</span></span>
<span class="line"><span style="color:#E1E4E8;">    conditions: [], </span><span style="color:#6A737D;">// 解决程序包中 情景导出 时的其他允许条件</span></span>
<span class="line"><span style="color:#E1E4E8;">    mainFields: [], </span><span style="color:#6A737D;">// 解析包入口点尝试的字段列表</span></span>
<span class="line"><span style="color:#E1E4E8;">    extensions: [</span><span style="color:#9ECBFF;">&#39;.mjs&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;.js&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;.ts&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;.jsx&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;.tsx&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;.json&#39;</span><span style="color:#E1E4E8;">], </span><span style="color:#6A737D;">// 导入时想要忽略的扩展名列表</span></span>
<span class="line"><span style="color:#E1E4E8;">    preserveSymlinks: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 启用此选项会使 Vite 通过原始文件路径确定文件身份</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  css: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    modules: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      scopeBehaviour: </span><span style="color:#9ECBFF;">&#39;global&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;local&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    postcss: </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 内联的 PostCSS 配置 如果提供了该内联配置，Vite 将不会搜索其他 PostCSS 配置源</span></span>
<span class="line"><span style="color:#E1E4E8;">    preprocessorOptions: { </span><span style="color:#6A737D;">// css的预处理器选项</span></span>
<span class="line"><span style="color:#E1E4E8;">      scss: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        additionalData: </span><span style="color:#9ECBFF;">`$injectedColor: orange;`</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  json: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    namedExports: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 是否支持从.json文件中进行按名导入</span></span>
<span class="line"><span style="color:#E1E4E8;">    stringify: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">//  开启此项，导入的 JSON 会被转换为 export default JSON.parse(&quot;...&quot;) 会禁用按名导入</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  esbuild: { </span><span style="color:#6A737D;">// 最常见的用例是自定义 JSX</span></span>
<span class="line"><span style="color:#E1E4E8;">    jsxFactory: </span><span style="color:#9ECBFF;">&#39;h&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    jsxFragment: </span><span style="color:#9ECBFF;">&#39;Fragment&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  assetsInclude: [</span><span style="color:#9ECBFF;">&#39;**/*.gltf&#39;</span><span style="color:#E1E4E8;">], </span><span style="color:#6A737D;">// 指定额外的 picomatch 模式 作为静态资源处理</span></span>
<span class="line"><span style="color:#E1E4E8;">  logLevel: </span><span style="color:#9ECBFF;">&#39;info&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 调整控制台输出的级别 &#39;info&#39; | &#39;warn&#39; | &#39;error&#39; | &#39;silent&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">  clearScreen: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 设为 false 可以避免 Vite 清屏而错过在终端中打印某些关键信息</span></span>
<span class="line"><span style="color:#E1E4E8;">  envDir: </span><span style="color:#9ECBFF;">&#39;/&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 用于加载 .env 文件的目录</span></span>
<span class="line"><span style="color:#E1E4E8;">  envPrefix: [], </span><span style="color:#6A737D;">// 以 envPrefix 开头的环境变量会通过 i<wbr>mport.meta.env 暴露在你的客户端源码中</span></span>
<span class="line"><span style="color:#E1E4E8;">  server: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    host: </span><span style="color:#9ECBFF;">&#39;127.0.0.1&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 指定服务器应该监听哪个 IP 地址</span></span>
<span class="line"><span style="color:#E1E4E8;">    port: </span><span style="color:#79B8FF;">5000</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 指定开发服务器端口</span></span>
<span class="line"><span style="color:#E1E4E8;">    strictPort: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 若端口已被占用则会直接退出</span></span>
<span class="line"><span style="color:#E1E4E8;">    https: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 启用 TLS + HTTP/2</span></span>
<span class="line"><span style="color:#E1E4E8;">    open: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 启动时自动在浏览器中打开应用程序</span></span>
<span class="line"><span style="color:#E1E4E8;">    proxy: { </span><span style="color:#6A737D;">// 配置自定义代理规则</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&#39;/api&#39;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        target: </span><span style="color:#9ECBFF;">&#39;http://jsonplaceholder.typicode.com&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        changeOrigin: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">rewrite</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">path</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> path.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">^</span><span style="color:#85E89D;font-weight:bold;">\/</span><span style="color:#DBEDFF;">api</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    cors: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 配置 CORS</span></span>
<span class="line"><span style="color:#E1E4E8;">    force: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 强制使依赖预构建</span></span>
<span class="line"><span style="color:#E1E4E8;">    hmr: { </span><span style="color:#6A737D;">// 禁用或配置 HMR 连接</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    watch: { </span><span style="color:#6A737D;">// 传递给 chokidar 的文件系统监听器选项</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    middlewareMode: </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 以中间件模式创建 Vite 服务器</span></span>
<span class="line"><span style="color:#E1E4E8;">    fs: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      strict: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 限制为工作区 root 路径以外的文件的访问</span></span>
<span class="line"><span style="color:#E1E4E8;">      allow: [], </span><span style="color:#6A737D;">// 限制哪些文件可以通过 /@fs/ 路径提供服务</span></span>
<span class="line"><span style="color:#E1E4E8;">      deny: [</span><span style="color:#9ECBFF;">&#39;.env&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;.env.*&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;*.{pem,crt}&#39;</span><span style="color:#E1E4E8;">], </span><span style="color:#6A737D;">// 用于限制 Vite 开发服务器提供敏感文件的黑名单</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    origin: </span><span style="color:#9ECBFF;">&#39;http://127.0.0.1:8080/&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 用于定义开发调试阶段生成资产的 origin</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  build: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    target: [</span><span style="color:#9ECBFF;">&#39;modules&#39;</span><span style="color:#E1E4E8;">], </span><span style="color:#6A737D;">// 设置最终构建的浏览器兼容目标</span></span>
<span class="line"><span style="color:#E1E4E8;">    polyfillModulePreload: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 是否自动注入 module preload 的 polyfill</span></span>
<span class="line"><span style="color:#E1E4E8;">    outDir: </span><span style="color:#9ECBFF;">&#39;dist&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 指定输出路径</span></span>
<span class="line"><span style="color:#E1E4E8;">    assetsDir: </span><span style="color:#9ECBFF;">&#39;assets&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 指定生成静态文件目录</span></span>
<span class="line"><span style="color:#E1E4E8;">    assetsInlineLimit: </span><span style="color:#9ECBFF;">&#39;4096&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 小于此阈值的导入或引用资源将内联为 base64 编码</span></span>
<span class="line"><span style="color:#E1E4E8;">    cssCodeSplit: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 启用 CSS 代码拆分</span></span>
<span class="line"><span style="color:#E1E4E8;">    cssTarget: </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 允许用户为 CSS 的压缩设置一个不同的浏览器 target 与 build.target 一致</span></span>
<span class="line"><span style="color:#E1E4E8;">    sourcemap: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 构建后是否生成 source map 文件</span></span>
<span class="line"><span style="color:#E1E4E8;">    rollupOptions: {}, </span><span style="color:#6A737D;">// 自定义底层的 Rollup 打包配置</span></span>
<span class="line"><span style="color:#E1E4E8;">    lib: {}, </span><span style="color:#6A737D;">// 构建为库</span></span>
<span class="line"><span style="color:#E1E4E8;">    manifest: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 当设置为 true，构建后将会生成 manifest.json 文件</span></span>
<span class="line"><span style="color:#E1E4E8;">    ssrManifest: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 构建不生成 SSR 的 manifest 文件</span></span>
<span class="line"><span style="color:#E1E4E8;">    ssr: </span><span style="color:#79B8FF;">undefined</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 生成面向 SSR 的构建</span></span>
<span class="line"><span style="color:#E1E4E8;">    minify: </span><span style="color:#9ECBFF;">&#39;esbuild&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 指定使用哪种混淆器</span></span>
<span class="line"><span style="color:#E1E4E8;">    terserOptions: {}, </span><span style="color:#6A737D;">// 传递给 Terser 的更多 minify 选项</span></span>
<span class="line"><span style="color:#E1E4E8;">    write: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 启用将构建后的文件写入磁盘</span></span>
<span class="line"><span style="color:#E1E4E8;">    emptyOutDir: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 构建时清空该目录</span></span>
<span class="line"><span style="color:#E1E4E8;">    brotliSize: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 启用 brotli 压缩大小报告</span></span>
<span class="line"><span style="color:#E1E4E8;">    chunkSizeWarningLimit: </span><span style="color:#79B8FF;">500</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// chunk 大小警告的限制</span></span>
<span class="line"><span style="color:#E1E4E8;">    watch: </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 设置为 {} 则会启用 rollup 的监听器</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  preview: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    port: </span><span style="color:#79B8FF;">5000</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 指定开发服务器端口</span></span>
<span class="line"><span style="color:#E1E4E8;">    strictPort: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 若端口已被占用则会直接退出</span></span>
<span class="line"><span style="color:#E1E4E8;">    https: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 启用 TLS + HTTP/2</span></span>
<span class="line"><span style="color:#E1E4E8;">    open: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 启动时自动在浏览器中打开应用程序</span></span>
<span class="line"><span style="color:#E1E4E8;">    proxy: { </span><span style="color:#6A737D;">// 配置自定义代理规则</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&#39;/api&#39;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        target: </span><span style="color:#9ECBFF;">&#39;http://jsonplaceholder.typicode.com&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        changeOrigin: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">rewrite</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">path</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> path.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">^</span><span style="color:#85E89D;font-weight:bold;">\/</span><span style="color:#DBEDFF;">api</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    cors: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 配置 CORS</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  optimizeDeps: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    entries: [], </span><span style="color:#6A737D;">// 指定自定义条目——该值需要遵循 fast-glob 模式</span></span>
<span class="line"><span style="color:#E1E4E8;">    exclude: [], </span><span style="color:#6A737D;">// 在预构建中强制排除的依赖项</span></span>
<span class="line"><span style="color:#E1E4E8;">    include: [], </span><span style="color:#6A737D;">// 可强制预构建链接的包</span></span>
<span class="line"><span style="color:#E1E4E8;">    keepNames: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// true 可以在函数和类上保留 name 属性</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  ssr: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    external: [], </span><span style="color:#6A737D;">// 列出的是要为 SSR 强制外部化的依赖,</span></span>
<span class="line"><span style="color:#E1E4E8;">    noExternal: </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 列出的是防止被 SSR 外部化依赖项</span></span>
<span class="line"><span style="color:#E1E4E8;">    target: </span><span style="color:#9ECBFF;">&#39;node&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// SSR 服务器的构建目标</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  root: process.</span><span style="color:#6F42C1;">cwd</span><span style="color:#24292E;">(), </span><span style="color:#6A737D;">// 项目根目录（index.html 文件所在的位置）,</span></span>
<span class="line"><span style="color:#24292E;">  base: </span><span style="color:#032F62;">&#39;/&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 开发或生产环境服务的公共基础路径 配置引入相对路径</span></span>
<span class="line"><span style="color:#24292E;">  mode: </span><span style="color:#032F62;">&#39;development&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 模式</span></span>
<span class="line"><span style="color:#24292E;">  plugins: [</span><span style="color:#6F42C1;">vue</span><span style="color:#24292E;">()], </span><span style="color:#6A737D;">// 需要用到的插件数组</span></span>
<span class="line"><span style="color:#24292E;">  publicDir: </span><span style="color:#032F62;">&#39;public&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 静态资源服务的文件夹</span></span>
<span class="line"><span style="color:#24292E;">  cacheDir: </span><span style="color:#032F62;">&#39;node_modules/.vite&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 存储缓存文件的目录</span></span>
<span class="line"><span style="color:#24292E;">  resolve: {</span></span>
<span class="line"><span style="color:#24292E;">    alias: [ </span><span style="color:#6A737D;">// 文件系统路径别名</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">        find:</span><span style="color:#032F62;"> /</span><span style="color:#22863A;font-weight:bold;">\/</span><span style="color:#032F62;">@</span><span style="color:#22863A;font-weight:bold;">\/</span><span style="color:#032F62;">/</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        replacement: </span><span style="color:#6F42C1;">pathResolve</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;src&#39;</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;/&#39;</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    ],</span></span>
<span class="line"><span style="color:#24292E;">    dedupe: [], </span><span style="color:#6A737D;">// 强制 Vite 始终将列出的依赖项解析为同一副本</span></span>
<span class="line"><span style="color:#24292E;">    conditions: [], </span><span style="color:#6A737D;">// 解决程序包中 情景导出 时的其他允许条件</span></span>
<span class="line"><span style="color:#24292E;">    mainFields: [], </span><span style="color:#6A737D;">// 解析包入口点尝试的字段列表</span></span>
<span class="line"><span style="color:#24292E;">    extensions: [</span><span style="color:#032F62;">&#39;.mjs&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;.js&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;.ts&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;.jsx&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;.tsx&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;.json&#39;</span><span style="color:#24292E;">], </span><span style="color:#6A737D;">// 导入时想要忽略的扩展名列表</span></span>
<span class="line"><span style="color:#24292E;">    preserveSymlinks: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 启用此选项会使 Vite 通过原始文件路径确定文件身份</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  css: {</span></span>
<span class="line"><span style="color:#24292E;">    modules: {</span></span>
<span class="line"><span style="color:#24292E;">      scopeBehaviour: </span><span style="color:#032F62;">&#39;global&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;local&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    postcss: </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 内联的 PostCSS 配置 如果提供了该内联配置，Vite 将不会搜索其他 PostCSS 配置源</span></span>
<span class="line"><span style="color:#24292E;">    preprocessorOptions: { </span><span style="color:#6A737D;">// css的预处理器选项</span></span>
<span class="line"><span style="color:#24292E;">      scss: {</span></span>
<span class="line"><span style="color:#24292E;">        additionalData: </span><span style="color:#032F62;">`$injectedColor: orange;`</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  json: {</span></span>
<span class="line"><span style="color:#24292E;">    namedExports: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 是否支持从.json文件中进行按名导入</span></span>
<span class="line"><span style="color:#24292E;">    stringify: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">//  开启此项，导入的 JSON 会被转换为 export default JSON.parse(&quot;...&quot;) 会禁用按名导入</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  esbuild: { </span><span style="color:#6A737D;">// 最常见的用例是自定义 JSX</span></span>
<span class="line"><span style="color:#24292E;">    jsxFactory: </span><span style="color:#032F62;">&#39;h&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    jsxFragment: </span><span style="color:#032F62;">&#39;Fragment&#39;</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  assetsInclude: [</span><span style="color:#032F62;">&#39;**/*.gltf&#39;</span><span style="color:#24292E;">], </span><span style="color:#6A737D;">// 指定额外的 picomatch 模式 作为静态资源处理</span></span>
<span class="line"><span style="color:#24292E;">  logLevel: </span><span style="color:#032F62;">&#39;info&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 调整控制台输出的级别 &#39;info&#39; | &#39;warn&#39; | &#39;error&#39; | &#39;silent&#39;</span></span>
<span class="line"><span style="color:#24292E;">  clearScreen: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 设为 false 可以避免 Vite 清屏而错过在终端中打印某些关键信息</span></span>
<span class="line"><span style="color:#24292E;">  envDir: </span><span style="color:#032F62;">&#39;/&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 用于加载 .env 文件的目录</span></span>
<span class="line"><span style="color:#24292E;">  envPrefix: [], </span><span style="color:#6A737D;">// 以 envPrefix 开头的环境变量会通过 i<wbr>mport.meta.env 暴露在你的客户端源码中</span></span>
<span class="line"><span style="color:#24292E;">  server: {</span></span>
<span class="line"><span style="color:#24292E;">    host: </span><span style="color:#032F62;">&#39;127.0.0.1&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 指定服务器应该监听哪个 IP 地址</span></span>
<span class="line"><span style="color:#24292E;">    port: </span><span style="color:#005CC5;">5000</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 指定开发服务器端口</span></span>
<span class="line"><span style="color:#24292E;">    strictPort: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 若端口已被占用则会直接退出</span></span>
<span class="line"><span style="color:#24292E;">    https: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 启用 TLS + HTTP/2</span></span>
<span class="line"><span style="color:#24292E;">    open: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 启动时自动在浏览器中打开应用程序</span></span>
<span class="line"><span style="color:#24292E;">    proxy: { </span><span style="color:#6A737D;">// 配置自定义代理规则</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&#39;/api&#39;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        target: </span><span style="color:#032F62;">&#39;http://jsonplaceholder.typicode.com&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        changeOrigin: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">rewrite</span><span style="color:#24292E;">: (</span><span style="color:#E36209;">path</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> path.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/</span><span style="color:#D73A49;">^</span><span style="color:#22863A;font-weight:bold;">\/</span><span style="color:#032F62;">api/</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    cors: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 配置 CORS</span></span>
<span class="line"><span style="color:#24292E;">    force: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 强制使依赖预构建</span></span>
<span class="line"><span style="color:#24292E;">    hmr: { </span><span style="color:#6A737D;">// 禁用或配置 HMR 连接</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    watch: { </span><span style="color:#6A737D;">// 传递给 chokidar 的文件系统监听器选项</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    middlewareMode: </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 以中间件模式创建 Vite 服务器</span></span>
<span class="line"><span style="color:#24292E;">    fs: {</span></span>
<span class="line"><span style="color:#24292E;">      strict: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 限制为工作区 root 路径以外的文件的访问</span></span>
<span class="line"><span style="color:#24292E;">      allow: [], </span><span style="color:#6A737D;">// 限制哪些文件可以通过 /@fs/ 路径提供服务</span></span>
<span class="line"><span style="color:#24292E;">      deny: [</span><span style="color:#032F62;">&#39;.env&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;.env.*&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;*.{pem,crt}&#39;</span><span style="color:#24292E;">], </span><span style="color:#6A737D;">// 用于限制 Vite 开发服务器提供敏感文件的黑名单</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    origin: </span><span style="color:#032F62;">&#39;http://127.0.0.1:8080/&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 用于定义开发调试阶段生成资产的 origin</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  build: {</span></span>
<span class="line"><span style="color:#24292E;">    target: [</span><span style="color:#032F62;">&#39;modules&#39;</span><span style="color:#24292E;">], </span><span style="color:#6A737D;">// 设置最终构建的浏览器兼容目标</span></span>
<span class="line"><span style="color:#24292E;">    polyfillModulePreload: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 是否自动注入 module preload 的 polyfill</span></span>
<span class="line"><span style="color:#24292E;">    outDir: </span><span style="color:#032F62;">&#39;dist&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 指定输出路径</span></span>
<span class="line"><span style="color:#24292E;">    assetsDir: </span><span style="color:#032F62;">&#39;assets&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 指定生成静态文件目录</span></span>
<span class="line"><span style="color:#24292E;">    assetsInlineLimit: </span><span style="color:#032F62;">&#39;4096&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 小于此阈值的导入或引用资源将内联为 base64 编码</span></span>
<span class="line"><span style="color:#24292E;">    cssCodeSplit: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 启用 CSS 代码拆分</span></span>
<span class="line"><span style="color:#24292E;">    cssTarget: </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 允许用户为 CSS 的压缩设置一个不同的浏览器 target 与 build.target 一致</span></span>
<span class="line"><span style="color:#24292E;">    sourcemap: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 构建后是否生成 source map 文件</span></span>
<span class="line"><span style="color:#24292E;">    rollupOptions: {}, </span><span style="color:#6A737D;">// 自定义底层的 Rollup 打包配置</span></span>
<span class="line"><span style="color:#24292E;">    lib: {}, </span><span style="color:#6A737D;">// 构建为库</span></span>
<span class="line"><span style="color:#24292E;">    manifest: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 当设置为 true，构建后将会生成 manifest.json 文件</span></span>
<span class="line"><span style="color:#24292E;">    ssrManifest: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 构建不生成 SSR 的 manifest 文件</span></span>
<span class="line"><span style="color:#24292E;">    ssr: </span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 生成面向 SSR 的构建</span></span>
<span class="line"><span style="color:#24292E;">    minify: </span><span style="color:#032F62;">&#39;esbuild&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 指定使用哪种混淆器</span></span>
<span class="line"><span style="color:#24292E;">    terserOptions: {}, </span><span style="color:#6A737D;">// 传递给 Terser 的更多 minify 选项</span></span>
<span class="line"><span style="color:#24292E;">    write: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 启用将构建后的文件写入磁盘</span></span>
<span class="line"><span style="color:#24292E;">    emptyOutDir: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 构建时清空该目录</span></span>
<span class="line"><span style="color:#24292E;">    brotliSize: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 启用 brotli 压缩大小报告</span></span>
<span class="line"><span style="color:#24292E;">    chunkSizeWarningLimit: </span><span style="color:#005CC5;">500</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// chunk 大小警告的限制</span></span>
<span class="line"><span style="color:#24292E;">    watch: </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 设置为 {} 则会启用 rollup 的监听器</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  preview: {</span></span>
<span class="line"><span style="color:#24292E;">    port: </span><span style="color:#005CC5;">5000</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 指定开发服务器端口</span></span>
<span class="line"><span style="color:#24292E;">    strictPort: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 若端口已被占用则会直接退出</span></span>
<span class="line"><span style="color:#24292E;">    https: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 启用 TLS + HTTP/2</span></span>
<span class="line"><span style="color:#24292E;">    open: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 启动时自动在浏览器中打开应用程序</span></span>
<span class="line"><span style="color:#24292E;">    proxy: { </span><span style="color:#6A737D;">// 配置自定义代理规则</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&#39;/api&#39;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        target: </span><span style="color:#032F62;">&#39;http://jsonplaceholder.typicode.com&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        changeOrigin: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">rewrite</span><span style="color:#24292E;">: (</span><span style="color:#E36209;">path</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> path.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/</span><span style="color:#D73A49;">^</span><span style="color:#22863A;font-weight:bold;">\/</span><span style="color:#032F62;">api/</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    cors: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 配置 CORS</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  optimizeDeps: {</span></span>
<span class="line"><span style="color:#24292E;">    entries: [], </span><span style="color:#6A737D;">// 指定自定义条目——该值需要遵循 fast-glob 模式</span></span>
<span class="line"><span style="color:#24292E;">    exclude: [], </span><span style="color:#6A737D;">// 在预构建中强制排除的依赖项</span></span>
<span class="line"><span style="color:#24292E;">    include: [], </span><span style="color:#6A737D;">// 可强制预构建链接的包</span></span>
<span class="line"><span style="color:#24292E;">    keepNames: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// true 可以在函数和类上保留 name 属性</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  ssr: {</span></span>
<span class="line"><span style="color:#24292E;">    external: [], </span><span style="color:#6A737D;">// 列出的是要为 SSR 强制外部化的依赖,</span></span>
<span class="line"><span style="color:#24292E;">    noExternal: </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 列出的是防止被 SSR 外部化依赖项</span></span>
<span class="line"><span style="color:#24292E;">    target: </span><span style="color:#032F62;">&#39;node&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// SSR 服务器的构建目标</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br></div></div></details><h2 id="环境变量" tabindex="-1">环境变量 <a class="header-anchor" href="#环境变量" aria-label="Permalink to &quot;环境变量&quot;">​</a></h2><h3 id="什么环境变量" tabindex="-1">什么环境变量 <a class="header-anchor" href="#什么环境变量" aria-label="Permalink to &quot;什么环境变量&quot;">​</a></h3><p>会根据当前代码环境产生值的变化的变量就叫做环境变量</p><h3 id="代码环境可能包括" tabindex="-1">代码环境可能包括 <a class="header-anchor" href="#代码环境可能包括" aria-label="Permalink to &quot;代码环境可能包括&quot;">​</a></h3><ol><li>开发环境</li><li>生产环境</li><li>测试环境</li><li>预发布环境</li><li>灰度环境</li></ol><h3 id="环境变量文件" tabindex="-1">环境变量文件 <a class="header-anchor" href="#环境变量文件" aria-label="Permalink to &quot;环境变量文件&quot;">​</a></h3><ul><li>.env 公用环境变量 一般配置一些所有环境共用的变量,如项目名称,端口号,版权信息之类的之类的,百度地图sdk, 小程序的sdk根据需求也可以放到环境变量中</li></ul><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 端口号</span></span>
<span class="line"><span style="color:#B392F0;">VITE_PORT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3100</span></span>
<span class="line"><span style="color:#6A737D;"># 系统名称</span></span>
<span class="line"><span style="color:#B392F0;">VITE_GLOB_APP_NAME</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">图书管理系统</span></span>
<span class="line"><span style="color:#6A737D;"># 版权信息</span></span>
<span class="line"><span style="color:#B392F0;">VITE_GLOB_DESKTOP_FOOT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Copyright</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">©</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2022</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">xxx</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">xxx</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 端口号</span></span>
<span class="line"><span style="color:#6F42C1;">VITE_PORT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3100</span></span>
<span class="line"><span style="color:#6A737D;"># 系统名称</span></span>
<span class="line"><span style="color:#6F42C1;">VITE_GLOB_APP_NAME</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">图书管理系统</span></span>
<span class="line"><span style="color:#6A737D;"># 版权信息</span></span>
<span class="line"><span style="color:#6F42C1;">VITE_GLOB_DESKTOP_FOOT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Copyright</span><span style="color:#24292E;"> </span><span style="color:#032F62;">©</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2022</span><span style="color:#24292E;"> </span><span style="color:#032F62;">xxx</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">xxx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>.env.development 开发环境环境变量 根据开发需求,配置http请求的基础路径(域名、端口号)</li></ul><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># public path</span></span>
<span class="line"><span style="color:#B392F0;">VITE_PUBLIC_PATH</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># API_BASE_URL</span></span>
<span class="line"><span style="color:#B392F0;">VITE_PROXY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> [[</span><span style="color:#9ECBFF;">&quot;/basic-api&quot;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;http://localhost:8080/dev&quot;</span><span style="color:#E1E4E8;">],[</span><span style="color:#9ECBFF;">&quot;/upload&quot;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;http://localhost:8080/upload&quot;</span><span style="color:#E1E4E8;">]]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># public path</span></span>
<span class="line"><span style="color:#6F42C1;">VITE_PUBLIC_PATH</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># API_BASE_URL</span></span>
<span class="line"><span style="color:#6F42C1;">VITE_PROXY</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> [[</span><span style="color:#032F62;">&quot;/basic-api&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;http://localhost:8080/dev&quot;</span><span style="color:#24292E;">],[</span><span style="color:#032F62;">&quot;/upload&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;http://localhost:8080/upload&quot;</span><span style="color:#24292E;">]]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>.env.production 生产环境变量</li></ul><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># public path</span></span>
<span class="line"><span style="color:#B392F0;">VITE_PUBLIC_PATH</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/</span></span>
<span class="line"><span style="color:#6A737D;"># Delete console</span></span>
<span class="line"><span style="color:#B392F0;">VITE_DROP_CONSOLE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># public path</span></span>
<span class="line"><span style="color:#6F42C1;">VITE_PUBLIC_PATH</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/</span></span>
<span class="line"><span style="color:#6A737D;"># Delete console</span></span>
<span class="line"><span style="color:#6F42C1;">VITE_DROP_CONSOLE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="vite是如何读取环境变量的" tabindex="-1">vite是如何读取环境变量的 <a class="header-anchor" href="#vite是如何读取环境变量的" aria-label="Permalink to &quot;vite是如何读取环境变量的&quot;">​</a></h3><p>vite内置了dotenv这个第三方库,dotenv会自动读取.env文件,并解析这个文件中的对应环境变量,并将其注入到process对象下(但是vite考虑到和其他配置的一些冲突问题,他不会直接注入到process对象下)</p><h3 id="客户端读取环境变量" tabindex="-1">客户端读取环境变量 <a class="header-anchor" href="#客户端读取环境变量" aria-label="Permalink to &quot;客户端读取环境变量&quot;">​</a></h3><p>客户端, vite会将对应的环境变量注入到i<wbr>mport.meta.env里去 vite做了一个拦截, 他为了防止我们将隐私性的变量直接送进i<wbr>mport.meta.env中, 所以他做了一层拦截, 如果你的环境变量不是以VITE开头的, 他就不会帮你注入到客户端中去, 如果我们想要更改这个前缀, 可以去使用envPrefix配置 补充一个小知识: 为什么vite.config.js可以书写成esmodule的形式, 这是因为vite他在读取这个vite.config.js的时候会率先node去解析文件语法, 如果发现你是esmodule规范会直接将你的esmodule规范进行替换变成commonjs规范</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// 客服端读取环境变量</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">meta</span><span style="color:#E1E4E8;">.env</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 配置环境变量前缀</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">defineConfig</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">  envPrefix: [</span><span style="color:#9ECBFF;">&quot;TEST&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;VITE_&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 客服端读取环境变量</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">meta</span><span style="color:#24292E;">.env</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 配置环境变量前缀</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">defineConfig</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">  envPrefix: [</span><span style="color:#032F62;">&quot;TEST&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;VITE_&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><details class="details custom-block"><summary>Details</summary><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { defineConfig, loadEnv } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vite&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { fileURLToPath, URL } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;node:url&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> { UserConfig } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vite&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> vue </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@vitejs/plugin-vue&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { resolve } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;path&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">envResolver</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">build</span><span style="color:#E1E4E8;">: ()</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">UserConfig</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;生产环境&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      plugins: [</span><span style="color:#B392F0;">vue</span><span style="color:#E1E4E8;">()],</span></span>
<span class="line"><span style="color:#E1E4E8;">      resolve: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        alias: {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;@&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#B392F0;">fileURLToPath</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">URL</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;./src&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">meta</span><span style="color:#E1E4E8;">.url)),</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">serve</span><span style="color:#E1E4E8;">: ()</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">UserConfig</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;开发环境&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">VITE_PROXY</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">loadEnv</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;development&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;./env&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      plugins: [</span><span style="color:#B392F0;">vue</span><span style="color:#E1E4E8;">()],</span></span>
<span class="line"><span style="color:#E1E4E8;">      resolve: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        alias: {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;@&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#B392F0;">fileURLToPath</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">URL</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;./src&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">meta</span><span style="color:#E1E4E8;">.url)),</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">      envDir: </span><span style="color:#9ECBFF;">&quot;./env&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      envPrefix: [</span><span style="color:#9ECBFF;">&quot;TEST&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;VITE_&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">      server: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        proxy: {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;/api&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">            target: </span><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">parse</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">VITE_PROXY</span><span style="color:#E1E4E8;">)[</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">            changeOrigin: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">rewrite</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">path</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> path.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">^</span><span style="color:#85E89D;font-weight:bold;">\/</span><span style="color:#DBEDFF;">api</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">          },</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">defineConfig</span><span style="color:#E1E4E8;">(({ </span><span style="color:#FFAB70;">command</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">mode</span><span style="color:#E1E4E8;"> }) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">\x1b</span><span style="color:#9ECBFF;">[31m%s</span><span style="color:#79B8FF;">\x1b</span><span style="color:#9ECBFF;">[0m&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">\n</span><span style="color:#9ECBFF;">当前处于开发测试阶段，还会有大量更新，仅供参考，请勿用于实际项目！</span><span style="color:#79B8FF;">\n</span><span style="color:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 配置文件路径</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">envDir</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">resolve</span><span style="color:#E1E4E8;">(process.</span><span style="color:#B392F0;">cwd</span><span style="color:#E1E4E8;">(), </span><span style="color:#9ECBFF;">&quot;env&quot;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">//绝对路径</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ./env 相对路径</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// process.cwd()项目根路径 D:\work\ghstudy</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(mode);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">loadEnv</span><span style="color:#E1E4E8;">(mode, envDir, </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(env);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> envResolver[command]();</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 文件名不能写错</span></span>
<span class="line"><span style="color:#6A737D;">// .env.development</span></span>
<span class="line"><span style="color:#6A737D;">// .env.production</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { defineConfig, loadEnv } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vite&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { fileURLToPath, URL } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;node:url&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">type</span><span style="color:#24292E;"> { UserConfig } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vite&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> vue </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@vitejs/plugin-vue&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { resolve } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;path&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">envResolver</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">build</span><span style="color:#24292E;">: ()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">UserConfig</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;生产环境&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      plugins: [</span><span style="color:#6F42C1;">vue</span><span style="color:#24292E;">()],</span></span>
<span class="line"><span style="color:#24292E;">      resolve: {</span></span>
<span class="line"><span style="color:#24292E;">        alias: {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;@&quot;</span><span style="color:#24292E;">: </span><span style="color:#6F42C1;">fileURLToPath</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">URL</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;./src&quot;</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">import</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">meta</span><span style="color:#24292E;">.url)),</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">    };</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">serve</span><span style="color:#24292E;">: ()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">UserConfig</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;开发环境&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">VITE_PROXY</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">loadEnv</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;development&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;./env&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      plugins: [</span><span style="color:#6F42C1;">vue</span><span style="color:#24292E;">()],</span></span>
<span class="line"><span style="color:#24292E;">      resolve: {</span></span>
<span class="line"><span style="color:#24292E;">        alias: {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;@&quot;</span><span style="color:#24292E;">: </span><span style="color:#6F42C1;">fileURLToPath</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">URL</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;./src&quot;</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">import</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">meta</span><span style="color:#24292E;">.url)),</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">      envDir: </span><span style="color:#032F62;">&quot;./env&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      envPrefix: [</span><span style="color:#032F62;">&quot;TEST&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;VITE_&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">      server: {</span></span>
<span class="line"><span style="color:#24292E;">        proxy: {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;/api&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">            target: </span><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">parse</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">VITE_PROXY</span><span style="color:#24292E;">)[</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">            changeOrigin: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">rewrite</span><span style="color:#24292E;">: (</span><span style="color:#E36209;">path</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> path.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/</span><span style="color:#D73A49;">^</span><span style="color:#22863A;font-weight:bold;">\/</span><span style="color:#032F62;">api/</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">          },</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">    };</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">defineConfig</span><span style="color:#24292E;">(({ </span><span style="color:#E36209;">command</span><span style="color:#24292E;">, </span><span style="color:#E36209;">mode</span><span style="color:#24292E;"> }) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;</span><span style="color:#005CC5;">\x1b</span><span style="color:#032F62;">[31m%s</span><span style="color:#005CC5;">\x1b</span><span style="color:#032F62;">[0m&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;</span><span style="color:#005CC5;">\n</span><span style="color:#032F62;">当前处于开发测试阶段，还会有大量更新，仅供参考，请勿用于实际项目！</span><span style="color:#005CC5;">\n</span><span style="color:#032F62;">&quot;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 配置文件路径</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">envDir</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">resolve</span><span style="color:#24292E;">(process.</span><span style="color:#6F42C1;">cwd</span><span style="color:#24292E;">(), </span><span style="color:#032F62;">&quot;env&quot;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">//绝对路径</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ./env 相对路径</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// process.cwd()项目根路径 D:\work\ghstudy</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(mode);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">env</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">loadEnv</span><span style="color:#24292E;">(mode, envDir, </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(env);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> envResolver[command]();</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 文件名不能写错</span></span>
<span class="line"><span style="color:#6A737D;">// .env.development</span></span>
<span class="line"><span style="color:#6A737D;">// .env.production</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div></details><h2 id="vite的插件" tabindex="-1">vite的插件 <a class="header-anchor" href="#vite的插件" aria-label="Permalink to &quot;vite的插件&quot;">​</a></h2><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">  plugins: [</span><span style="color:#B392F0;">vue</span><span style="color:#E1E4E8;">()],</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">  plugins: [</span><span style="color:#6F42C1;">vue</span><span style="color:#24292E;">()],</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="路径别名" tabindex="-1">路径别名 <a class="header-anchor" href="#路径别名" aria-label="Permalink to &quot;路径别名&quot;">​</a></h3><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { fileURLToPath, URL } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;node:url&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">  resolve: { </span><span style="color:#6A737D;">//这里也不算是插件,是vite的一个配置项</span></span>
<span class="line"><span style="color:#E1E4E8;">    alias: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&quot;@&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#B392F0;">fileURLToPath</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">URL</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;./src&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">meta</span><span style="color:#E1E4E8;">.url)),</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { fileURLToPath, URL } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;node:url&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">  resolve: { </span><span style="color:#6A737D;">//这里也不算是插件,是vite的一个配置项</span></span>
<span class="line"><span style="color:#24292E;">    alias: {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&quot;@&quot;</span><span style="color:#24292E;">: </span><span style="color:#6F42C1;">fileURLToPath</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">URL</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;./src&quot;</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">import</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">meta</span><span style="color:#24292E;">.url)),</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="自动识别-vue文件生成路由" tabindex="-1">自动识别.vue文件生成路由 <a class="header-anchor" href="#自动识别-vue文件生成路由" aria-label="Permalink to &quot;自动识别.vue文件生成路由&quot;">​</a></h3><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// vite.config.ts</span></span>
<span class="line"><span style="color:#6A737D;">// pnpm i vite-plugin-pages</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> Pages </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;vite-plugin-pages&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">  plugins: [</span><span style="color:#B392F0;">Pages</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    dirs: </span><span style="color:#9ECBFF;">&#39;./src/views&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">//指定生成路由的目录</span></span>
<span class="line"><span style="color:#E1E4E8;">    extensions: [</span><span style="color:#9ECBFF;">&#39;vue&#39;</span><span style="color:#E1E4E8;">], </span><span style="color:#6A737D;">//文件后缀</span></span>
<span class="line"><span style="color:#E1E4E8;">    exclude: [</span><span style="color:#9ECBFF;">&#39;**/src/*.vue&#39;</span><span style="color:#E1E4E8;">], </span><span style="color:#6A737D;">//可以排除指定目录</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// vite.config.ts</span></span>
<span class="line"><span style="color:#6A737D;">// pnpm i vite-plugin-pages</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Pages </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;vite-plugin-pages&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">  plugins: [</span><span style="color:#6F42C1;">Pages</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    dirs: </span><span style="color:#032F62;">&#39;./src/views&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">//指定生成路由的目录</span></span>
<span class="line"><span style="color:#24292E;">    extensions: [</span><span style="color:#032F62;">&#39;vue&#39;</span><span style="color:#24292E;">], </span><span style="color:#6A737D;">//文件后缀</span></span>
<span class="line"><span style="color:#24292E;">    exclude: [</span><span style="color:#032F62;">&#39;**/src/*.vue&#39;</span><span style="color:#24292E;">], </span><span style="color:#6A737D;">//可以排除指定目录</span></span>
<span class="line"><span style="color:#24292E;">    })</span></span>
<span class="line"><span style="color:#24292E;">  ],</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// router.ts</span></span>
<span class="line"><span style="color:#6A737D;">// @ts-ignore</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> routes </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;~pages&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(routes);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// router.ts</span></span>
<span class="line"><span style="color:#6A737D;">// @ts-ignore</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> routes </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;~pages&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(routes);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="跨域处理" tabindex="-1">跨域处理 <a class="header-anchor" href="#跨域处理" aria-label="Permalink to &quot;跨域处理&quot;">​</a></h2><ul><li>开发时态:我们一般就利用构建工具或者脚手架或者第三方库的proxy 代理配置，或者我们自己搭一个开发服务器来解决这个问题</li></ul><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">  server: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    proxy: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">//配置http代理,可多个</span></span>
<span class="line"><span style="color:#E1E4E8;">      [</span><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">parse</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">VITE_PROXY</span><span style="color:#E1E4E8;">)[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">]]: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        target: </span><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">parse</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">VITE_PROXY</span><span style="color:#E1E4E8;">)[</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">        changeOrigin: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">rewrite</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">path</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          path.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">RegExp</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`^${</span><span style="color:#79B8FF;">JSON</span><span style="color:#9ECBFF;">.</span><span style="color:#B392F0;">parse</span><span style="color:#9ECBFF;">(</span><span style="color:#79B8FF;">VITE_PROXY</span><span style="color:#9ECBFF;">)[</span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">]</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">), </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&quot;/api&quot;</span><span style="color:#E1E4E8;">: { </span><span style="color:#6A737D;">//把以/api开头的api拼接target属性</span></span>
<span class="line"><span style="color:#E1E4E8;">        target: </span><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">parse</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">VITE_PROXY</span><span style="color:#E1E4E8;">)[</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">        changeOrigin: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">//开启同源策略</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">rewrite</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">path</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> path.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">RegExp</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`^/api`</span><span style="color:#E1E4E8;">), </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">  server: {</span></span>
<span class="line"><span style="color:#24292E;">    proxy: {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">//配置http代理,可多个</span></span>
<span class="line"><span style="color:#24292E;">      [</span><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">parse</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">VITE_PROXY</span><span style="color:#24292E;">)[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">]]: {</span></span>
<span class="line"><span style="color:#24292E;">        target: </span><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">parse</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">VITE_PROXY</span><span style="color:#24292E;">)[</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">        changeOrigin: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">rewrite</span><span style="color:#24292E;">: (</span><span style="color:#E36209;">path</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span></span>
<span class="line"><span style="color:#24292E;">          path.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">RegExp</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`^${</span><span style="color:#005CC5;">JSON</span><span style="color:#032F62;">.</span><span style="color:#6F42C1;">parse</span><span style="color:#032F62;">(</span><span style="color:#005CC5;">VITE_PROXY</span><span style="color:#032F62;">)[</span><span style="color:#005CC5;">0</span><span style="color:#032F62;">]</span><span style="color:#032F62;">}`</span><span style="color:#24292E;">), </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&quot;/api&quot;</span><span style="color:#24292E;">: { </span><span style="color:#6A737D;">//把以/api开头的api拼接target属性</span></span>
<span class="line"><span style="color:#24292E;">        target: </span><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">parse</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">VITE_PROXY</span><span style="color:#24292E;">)[</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">        changeOrigin: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">//开启同源策略</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">rewrite</span><span style="color:#24292E;">: (</span><span style="color:#E36209;">path</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> path.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">RegExp</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`^/api`</span><span style="color:#24292E;">), </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ul><li>生产时态我们一般是交给后端去处理跨域的: <ul><li>ngnix:代理服务</li><li>配置身份标记</li></ul></li></ul><h2 id="vite中处理css-静态资源怎么去做" tabindex="-1">vite中处理css, 静态资源怎么去做 <a class="header-anchor" href="#vite中处理css-静态资源怎么去做" aria-label="Permalink to &quot;vite中处理css, 静态资源怎么去做&quot;">​</a></h2><h2 id="vite与ts的结合" tabindex="-1">vite与ts的结合 <a class="header-anchor" href="#vite与ts的结合" aria-label="Permalink to &quot;vite与ts的结合&quot;">​</a></h2><h2 id="vite打包" tabindex="-1">vite打包 <a class="header-anchor" href="#vite打包" aria-label="Permalink to &quot;vite打包&quot;">​</a></h2><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">build</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  target: [</span><span style="color:#9ECBFF;">&#39;modules&#39;</span><span style="color:#E1E4E8;">], </span><span style="color:#6A737D;">// 设置最终构建的浏览器兼容目标</span></span>
<span class="line"><span style="color:#E1E4E8;">    polyfillModulePreload: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 是否自动注入 module preload 的 polyfill</span></span>
<span class="line"><span style="color:#E1E4E8;">    outDir: </span><span style="color:#9ECBFF;">&#39;dist&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 指定输出路径</span></span>
<span class="line"><span style="color:#E1E4E8;">    assetsDir: </span><span style="color:#9ECBFF;">&#39;assets&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 指定生成静态文件目录</span></span>
<span class="line"><span style="color:#E1E4E8;">    assetsInlineLimit: </span><span style="color:#9ECBFF;">&#39;4096&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 小于此阈值的导入或引用资源将内联为 base64 编码</span></span>
<span class="line"><span style="color:#E1E4E8;">    cssCodeSplit: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 启用 CSS 代码拆分</span></span>
<span class="line"><span style="color:#E1E4E8;">    cssTarget: </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 允许用户为 CSS 的压缩设置一个不同的浏览器 target 与 build.target 一致</span></span>
<span class="line"><span style="color:#E1E4E8;">    sourcemap: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 构建后是否生成 source map 文件</span></span>
<span class="line"><span style="color:#E1E4E8;">    rollupOptions: {}, </span><span style="color:#6A737D;">// 自定义底层的 Rollup 打包配置</span></span>
<span class="line"><span style="color:#E1E4E8;">    lib: {}, </span><span style="color:#6A737D;">// 构建为库</span></span>
<span class="line"><span style="color:#E1E4E8;">    manifest: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 当设置为 true，构建后将会生成 manifest.json 文件</span></span>
<span class="line"><span style="color:#E1E4E8;">    ssrManifest: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 构建不生成 SSR 的 manifest 文件</span></span>
<span class="line"><span style="color:#E1E4E8;">    ssr: </span><span style="color:#79B8FF;">undefined</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 生成面向 SSR 的构建</span></span>
<span class="line"><span style="color:#E1E4E8;">    minify: </span><span style="color:#9ECBFF;">&#39;esbuild&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 指定使用哪种混淆器</span></span>
<span class="line"><span style="color:#E1E4E8;">    terserOptions: {}, </span><span style="color:#6A737D;">// 传递给 Terser 的更多 minify 选项</span></span>
<span class="line"><span style="color:#E1E4E8;">    write: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 启用将构建后的文件写入磁盘</span></span>
<span class="line"><span style="color:#E1E4E8;">    emptyOutDir: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 构建时清空该目录</span></span>
<span class="line"><span style="color:#E1E4E8;">    brotliSize: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 启用 brotli 压缩大小报告</span></span>
<span class="line"><span style="color:#E1E4E8;">    chunkSizeWarningLimit: </span><span style="color:#79B8FF;">500</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// chunk 大小警告的限制</span></span>
<span class="line"><span style="color:#E1E4E8;">    watch: </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 设置为 {} 则会启用 rollup 的监听器</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">build</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  target: [</span><span style="color:#032F62;">&#39;modules&#39;</span><span style="color:#24292E;">], </span><span style="color:#6A737D;">// 设置最终构建的浏览器兼容目标</span></span>
<span class="line"><span style="color:#24292E;">    polyfillModulePreload: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 是否自动注入 module preload 的 polyfill</span></span>
<span class="line"><span style="color:#24292E;">    outDir: </span><span style="color:#032F62;">&#39;dist&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 指定输出路径</span></span>
<span class="line"><span style="color:#24292E;">    assetsDir: </span><span style="color:#032F62;">&#39;assets&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 指定生成静态文件目录</span></span>
<span class="line"><span style="color:#24292E;">    assetsInlineLimit: </span><span style="color:#032F62;">&#39;4096&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 小于此阈值的导入或引用资源将内联为 base64 编码</span></span>
<span class="line"><span style="color:#24292E;">    cssCodeSplit: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 启用 CSS 代码拆分</span></span>
<span class="line"><span style="color:#24292E;">    cssTarget: </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 允许用户为 CSS 的压缩设置一个不同的浏览器 target 与 build.target 一致</span></span>
<span class="line"><span style="color:#24292E;">    sourcemap: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 构建后是否生成 source map 文件</span></span>
<span class="line"><span style="color:#24292E;">    rollupOptions: {}, </span><span style="color:#6A737D;">// 自定义底层的 Rollup 打包配置</span></span>
<span class="line"><span style="color:#24292E;">    lib: {}, </span><span style="color:#6A737D;">// 构建为库</span></span>
<span class="line"><span style="color:#24292E;">    manifest: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 当设置为 true，构建后将会生成 manifest.json 文件</span></span>
<span class="line"><span style="color:#24292E;">    ssrManifest: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 构建不生成 SSR 的 manifest 文件</span></span>
<span class="line"><span style="color:#24292E;">    ssr: </span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 生成面向 SSR 的构建</span></span>
<span class="line"><span style="color:#24292E;">    minify: </span><span style="color:#032F62;">&#39;esbuild&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 指定使用哪种混淆器</span></span>
<span class="line"><span style="color:#24292E;">    terserOptions: {}, </span><span style="color:#6A737D;">// 传递给 Terser 的更多 minify 选项</span></span>
<span class="line"><span style="color:#24292E;">    write: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 启用将构建后的文件写入磁盘</span></span>
<span class="line"><span style="color:#24292E;">    emptyOutDir: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 构建时清空该目录</span></span>
<span class="line"><span style="color:#24292E;">    brotliSize: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 启用 brotli 压缩大小报告</span></span>
<span class="line"><span style="color:#24292E;">    chunkSizeWarningLimit: </span><span style="color:#005CC5;">500</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// chunk 大小警告的限制</span></span>
<span class="line"><span style="color:#24292E;">    watch: </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 设置为 {} 则会启用 rollup 的监听器</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></div></div></main><footer class="VPDocFooter" data-v-8915a842 data-v-1eb17ec4><!--[--><!--]--><div class="edit-info" data-v-1eb17ec4><div class="edit-link" data-v-1eb17ec4><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/SheenJs/gh-blogs/tree/main/develop/blogs/vite/vite.md" target="_blank" rel="noreferrer" data-v-1eb17ec4><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-1eb17ec4><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> 在github编辑该页面<!--]--></a></div><!----></div><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter" data-v-43fb0c0c data-v-58de697c><div class="container" data-v-58de697c><!----><p class="copyright" data-v-58de697c>Copyright © 2023 YGHHJS</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"blogs_git.md\":\"18079f2e\",\"blogs_css_less.md\":\"91ecbcba\",\"blogs_css_网格布局.md\":\"9fc2d324\",\"blogs_vitepress_api.md\":\"9a413d9b\",\"blogs_miniprogram_base.md\":\"fd6537b0\",\"blogs_vite_vite.md\":\"fae684e7\",\"blogs_js_js基础.md\":\"151daf1f\",\"blogs_js_es6.md\":\"525c1f3c\",\"blogs_css_弹性盒模型.md\":\"8f5c6e37\",\"ghui_快速上手.md\":\"1f10b954\",\"blogs_css_sass.md\":\"a73e187e\",\"ghui_组件-popup.md\":\"cd5e9a5d\",\"ghui_组件-divider.md\":\"738d2fee\",\"ghui_组件-loading.md\":\"4ccad121\",\"ghui_组件-calendar.md\":\"f7c1f661\",\"ghui_组件-card.md\":\"4865ac56\",\"module_webpage.md\":\"b916848f\",\"ghui_组件-icon.md\":\"2d57e80a\",\"ghui_搭建组件库流程.md\":\"89a911cb\",\"blogs_js_array.md\":\"da9df756\",\"ghui_组件-checkbox.md\":\"cee20050\",\"ghui_组件-button.md\":\"97f4dd87\",\"blogs_css_加载动画.md\":\"67f6310f\",\"blogs_vitepress_起步.md\":\"ef17fc3d\",\"ghui_组件-countdown.md\":\"e64f416f\",\"ghui_组件-tree.md\":\"16bf2d2d\",\"blogs_js_date.md\":\"611a069b\",\"ghui_组件-space.md\":\"a7518ea8\",\"ghui_组件-progressbar.md\":\"2b5702ba\",\"blogs_js_正则.md\":\"4fe6df31\",\"blogs_vue_vue3_3.md\":\"f90f2725\",\"ghui_组件-switch.md\":\"a38c3c2c\",\"index.md\":\"742e8263\",\"blogs_vitepress_markdown.md\":\"5d39e660\",\"ghui_组件-toast.md\":\"1827b273\",\"blogs_js_string.md\":\"236c73fd\",\"blogs_js_ts.md\":\"55785979\",\"ghui_组件-stepper.md\":\"04bb60fa\",\"blogs_css_伪类选择器.md\":\"aa3f2995\",\"blogs_css_常用片段.md\":\"17e8fe5e\",\"blogs_vue_vue3.md\":\"1d40022a\",\"ghui_简介.md\":\"e3c3239b\",\"blogs_vue_h函数.md\":\"02b6e5e4\",\"ghui_组件-verificationcode.md\":\"374ed758\",\"blogs_vitepress_网站设置.md\":\"716b6e60\",\"blogs_vue_echarts_base.md\":\"6837036c\",\"blogs_js_topic.md\":\"75e2b303\",\"blogs_js_js高级.md\":\"f8fa3f4a\",\"blogs_vue_swiper.md\":\"ac3c717d\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"GH BLOGS\",\"titleTemplate\":\"明天你好\",\"description\":\"明天你好\",\"base\":\"/gh-blogs/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.webp\",\"search\":{\"provider\":\"local\"},\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"UI库\",\"link\":\"/ghui/搭建组件库流程\",\"activeMatch\":\"/ghui/\"},{\"text\":\"博客\",\"activeMatch\":\"/blogs/\",\"items\":[{\"text\":\"html\",\"link\":\"/a\"},{\"text\":\"css\",\"link\":\"/blogs/css/常用片段\",\"activeMatch\":\"/css/\"},{\"text\":\"JavaScript\",\"link\":\"/blogs/js/JS基础\",\"activeMatch\":\"/js/\"},{\"text\":\"vue\",\"link\":\"/blogs/vue/vue3\",\"activeMatch\":\"/vue/\"},{\"text\":\"vite\",\"link\":\"/a\"},{\"text\":\"mini program\",\"link\":\"/blogs/miniprogram/base\",\"activeMatch\":\"/miniprogram/\"},{\"text\":\"algorithm\",\"link\":\"/a\"},{\"text\":\"uniApp\",\"link\":\"/a\"},{\"text\":\"flutter\",\"link\":\"/a\"},{\"text\":\"react\",\"link\":\"/a\"},{\"text\":\"compiler\",\"link\":\"/a\"},{\"text\":\"vitepress\",\"link\":\"/blogs/vitepress/起步\",\"activeMatch\":\"/vitepress/\"},{\"text\":\"git\",\"link\":\"/blogs/git\"},{\"text\":\"back-end\",\"link\":\"/b\"}]}],\"sidebar\":{\"/ghui/\":[{\"text\":\"开发指南\",\"collapsed\":false,\"items\":[{\"text\":\"组件库搭建流程\",\"link\":\"/ghui/搭建组件库流程\"},{\"text\":\"简介\",\"link\":\"/ghui/简介\"},{\"text\":\"快速上手\",\"link\":\"/ghui/快速上手\"}]},{\"text\":\"组件\",\"collapsed\":false,\"items\":[{\"text\":\"按钮\",\"link\":\"/ghui/组件-button\"},{\"text\":\"日历选择器\",\"link\":\"/ghui/组件-calendar\"},{\"text\":\"卡片\",\"link\":\"/ghui/组件-card\"},{\"text\":\"复选框\",\"link\":\"/ghui/组件-checkbox\"},{\"text\":\"倒计时\",\"link\":\"/ghui/组件-countDown\"},{\"text\":\"分割线\",\"link\":\"/ghui/组件-divider\"},{\"text\":\"图标\",\"link\":\"/ghui/组件-icon\"},{\"text\":\"抽屉\",\"link\":\"/ghui/组件-popup\"},{\"text\":\"进度条\",\"link\":\"/ghui/组件-progressBar\"},{\"text\":\"间隙组件\",\"link\":\"/ghui/组件-space\"},{\"text\":\"进步器\",\"link\":\"/ghui/组件-stepper\"},{\"text\":\"开关\",\"link\":\"/ghui/组件-switch\"},{\"text\":\"轻提示\",\"link\":\"/ghui/组件-toast\"},{\"text\":\"树形图\",\"link\":\"/ghui/组件-tree\"},{\"text\":\"验证码\",\"link\":\"/ghui/组件-verificationCode\"}]}],\"/blogs/css/\":[{\"text\":\"常用片段\",\"link\":\"/blogs/css/常用片段\"},{\"text\":\"伪类选择器\",\"link\":\"/blogs/css/伪类选择器\"},{\"text\":\"加载动画\",\"link\":\"/blogs/css/加载动画\"},{\"text\":\"弹性盒模型\",\"link\":\"/blogs/css/弹性盒模型\"},{\"text\":\"网格布局\",\"link\":\"/blogs/css/网格布局\"},{\"text\":\"less\",\"link\":\"/blogs/css/less\"},{\"text\":\"sass\",\"link\":\"/blogs/css/sass\"}],\"/blogs/vitepress/\":[{\"text\":\"起步\",\"link\":\"/blogs/vitepress/起步\"},{\"text\":\"设置\",\"link\":\"/blogs/vitepress/网站设置\"},{\"text\":\"api\",\"link\":\"/blogs/vitepress/api\"},{\"text\":\"markdown\",\"link\":\"/blogs/vitepress/markdown\"}],\"/blogs/js/\":[{\"text\":\"JS基础知识\",\"collapsed\":false,\"items\":[{\"text\":\"基础\",\"link\":\"/blogs/js/JS基础\"},{\"text\":\"高级\",\"link\":\"/blogs/js/JS高级\"},{\"text\":\"dom\"},{\"text\":\"bom\"},{\"text\":\"ES6\",\"link\":\"/blogs/js/es6\",\"items\":[{\"text\":\"ES7\"},{\"text\":\"ES8-9\"},{\"text\":\"ES10\"},{\"text\":\"ES11\"},{\"text\":\"ES12\"},{\"text\":\"ES13\"}]},{\"text\":\"typescript\",\"link\":\"/blogs/js/TS\"}]},{\"text\":\"内置对象\",\"collapsed\":false,\"items\":[{\"text\":\"Array\",\"link\":\"/blogs/js/Array\"},{\"text\":\"Date\",\"link\":\"/blogs/js/Date\"},{\"text\":\"RegExp\",\"link\":\"/blogs/js/正则\"},{\"text\":\"string\",\"link\":\"/blogs/js/string\"},{\"text\":\"Object\"},{\"text\":\"Function\"},{\"text\":\"Math\"},{\"text\":\"Number\"},{\"text\":\"und null NaN\"},{\"text\":\"set Map\"},{\"text\":\"parseInt\"},{\"text\":\"Promise\"},{\"text\":\"Json\"}]},{\"text\":\"面试题\",\"link\":\"/blogs/js/topic\"}],\"/blogs/vue/\":[{\"items\":[{\"text\":\"vue 2.*\",\"items\":[{\"text\":\"2.**\"}]},{\"text\":\"vue 3.*\",\"link\":\"/blogs/vue/vue3\",\"items\":[{\"text\":\"3.3\",\"link\":\"/blogs/vue/vue3_3\"}]},{\"text\":\"vue-router\"},{\"text\":\"pinia\"}]},{\"text\":\"组合式API\",\"collapsed\":false,\"items\":[{\"text\":\"h()\",\"link\":\"/blogs/vue/h函数\"}]},{\"text\":\"面试题\",\"collapsed\":false,\"items\":[{\"text\":\"待刷题\"}]},{\"items\":[{\"text\":\"vue辅助库\",\"items\":[{\"text\":\"baidu map\"},{\"text\":\"echarts\",\"link\":\"/blogs/vue/echarts/base\"},{\"text\":\"swiper\",\"link\":\"/blogs/vue/swiper\"},{\"text\":\"vueuse\"},{\"text\":\"mockjs\"}]},{\"text\":\"transition\"}]}],\"/blogs/miniprogram/\":[{\"items\":[{\"text\":\"基础杂记\",\"link\":\"/blogs/miniprogram/base\"},{\"text\":\"\",\"link\":\"/blogs/miniprogram/base\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/SheenJs/gh-blogs\"}],\"outline\":\"deep\",\"outlineTitle\":\"章节导航\",\"docFooter\":{\"prev\":\"←上一篇\",\"next\":\"下一篇→\"},\"lastUpdatedText\":\"上次更新时间\",\"editLink\":{\"text\":\"在github编辑该页面\",\"pattern\":\"https://github.com/SheenJs/gh-blogs/tree/main/develop/:path\"},\"markdown\":{\"lineNumbers\":true},\"footer\":{\"message\":\"\",\"copyright\":\"Copyright © 2023 YGHHJS\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>